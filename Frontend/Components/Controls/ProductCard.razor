@using MudBlazor
@inject NavigationManager NavigationManager

<div class="card rounded-0 p-3" id="ProductCard1" >
    <div class="d-flex justify-content-between align-items-center gap-3">
        <div class="flex-grow-1">
            <h5 class="card-title fw-bold mb-1">@Name</h5>
            <p class="card-text mb-2">@Description</p>
            <button id="ProductCardButton" type="button" class="btn btn-primary btn-sm">Buy</button>
            <button id="ProductCardButton" type="button" class="btn btn-primary btn-sm" @onclick="NavigateToProductPage">Show Productpage</button>
        </div>
            <MudRating SelectedValue="3" Class="justify-content-sm-center" />
        <div class="text-nowrap text-end">
            <p class="ProductCardPrice fw-semibold text-success mb-0" style="font-size: 1.1rem; margin-right:70px;">@Price</p>
        </div>
        <div class="flex-shrink-0">
            <img id="ProductImage"
                 src=@ImageLink
                 style="width: 80px; height: 80px; object-fit: cover; border-radius: 0;" />
        </div>
    </div>
</div>

@code {


    [Parameter] public string? Id { get; set; }

    

    [Parameter] public string? Name { get; set; }

    [Parameter] public string? Description { get; set; }

    [Parameter] public double? Price { get; set; }

    [Parameter] public string? Genre { get; set; }

    [Parameter] public string? ImageLink { get; set; }


    private void NavigateToProductPage()
    {
        Console.WriteLine($"Navigating to product page for {Name}");
        NavigationManager.NavigateTo($"/product-page/{Name}");
    }
}